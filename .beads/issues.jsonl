{"id":"nvim-clip-line-ref-16z","title":"Implement line reference formatting","description":"Format output according to spec:\n- Single line: '{path} L{line}' (e.g., 'src/main.lua L42')\n- Range: '{path} L{start}-L{end}' (e.g., 'src/main.lua L13-L17')\n\nFormat is fixed, no configuration.","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:40.38177+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:47:40.38177+09:00","labels":["core"],"dependencies":[{"issue_id":"nvim-clip-line-ref-16z","depends_on_id":"nvim-clip-line-ref-lhd","type":"blocks","created_at":"2026-01-17T19:47:40.382638+09:00","created_by":"Ken Fukuyama"},{"issue_id":"nvim-clip-line-ref-16z","depends_on_id":"nvim-clip-line-ref-xn2","type":"blocks","created_at":"2026-01-17T19:47:40.383364+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-7do","title":"Create main init.lua module with setup() and public API","description":"Create lua/clip-line-ref/init.lua with:\n- setup(opts) function that must be called to initialize the plugin\n- Default config: use_git_root = true\n- copy() function: Copy current line or visual selection to clipboard\n- get_reference() function: Return formatted string without copying (or nil for special buffers)","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:59.410465+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:47:59.410465+09:00","labels":["api"],"dependencies":[{"issue_id":"nvim-clip-line-ref-7do","depends_on_id":"nvim-clip-line-ref-ydy","type":"blocks","created_at":"2026-01-17T19:47:59.41157+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-a9t","title":"Write plenary.nvim tests","description":"Create tests/clip-line-ref/core_spec.lua with plenary tests covering:\n- Git root detection (normal repo, submodules, non-git directory)\n- Path resolution (relative to git root, absolute paths, fallback to cwd)\n- Line reference formatting (single line, range)\n- Special buffer detection\n- Unsaved changes indicator\n- Mode detection and range extraction","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:48:16.617596+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:48:16.617596+09:00","labels":["testing"],"dependencies":[{"issue_id":"nvim-clip-line-ref-a9t","depends_on_id":"nvim-clip-line-ref-d6c","type":"blocks","created_at":"2026-01-17T19:48:16.61887+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-d3r","title":"Create basic plugin directory structure","description":"Create the lua/clip-line-ref/ and plugin/ directories with placeholder files as per the spec project structure.","status":"closed","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:09.290818+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:54:35.128951+09:00","closed_at":"2026-01-17T19:54:35.128951+09:00","close_reason":"Closed","labels":["setup"]}
{"id":"nvim-clip-line-ref-d6c","title":"Set up default keymappings","description":"Set up default keymappings in plugin/clip-line-ref.lua:\n- Normal mode: \u003cleader\u003eyl - Copy current line ref\n- Visual mode: \u003cleader\u003eyl - Copy selected range ref\n\nDefault keymap is always set. Users can override after plugin initialization.","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:48:10.33803+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:48:10.33803+09:00","labels":["plugin"],"dependencies":[{"issue_id":"nvim-clip-line-ref-d6c","depends_on_id":"nvim-clip-line-ref-efy","type":"blocks","created_at":"2026-01-17T19:48:10.338991+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-e3y","title":"Implement git root detection utility","description":"Create utils.lua with git_root() function that:\n- Uses 'git rev-parse --show-toplevel' from the file's directory\n- Handles submodules (returns nearest git root)\n- Caches result per buffer to avoid repeated shell calls\n- Falls back to vim.fn.getcwd() if git command fails","status":"closed","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:16.063628+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T20:46:36.577059+09:00","closed_at":"2026-01-17T20:46:36.577059+09:00","close_reason":"Closed","labels":["core"],"dependencies":[{"issue_id":"nvim-clip-line-ref-e3y","depends_on_id":"nvim-clip-line-ref-d3r","type":"blocks","created_at":"2026-01-17T19:47:16.064821+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-efy","title":"Register :ClipLineRef command","description":"Create :ClipLineRef command in plugin/clip-line-ref.lua that:\n- Works in both normal and visual modes\n- Normal mode: Copies current cursor line reference\n- Visual mode: Copies selected line range reference\n- Works with visual, visual line, and visual block modes","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:48:05.129417+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:48:05.129417+09:00","labels":["plugin"],"dependencies":[{"issue_id":"nvim-clip-line-ref-efy","depends_on_id":"nvim-clip-line-ref-7do","type":"blocks","created_at":"2026-01-17T19:48:05.130565+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-lhd","title":"Implement path resolution logic","description":"Create core.lua with path resolution that:\n- Default: Returns path relative to nearest git root (submodule-aware)\n- Fallback: Uses vim.fn.getcwd() if not in git repo\n- Configurable: Can return absolute paths via use_git_root=false config\n- Outputs paths as-is (no escaping/quoting for special characters)","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:28.653676+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:47:28.653676+09:00","labels":["core"],"dependencies":[{"issue_id":"nvim-clip-line-ref-lhd","depends_on_id":"nvim-clip-line-ref-e3y","type":"blocks","created_at":"2026-01-17T19:47:28.654804+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-r18","title":"Implement special buffer detection","description":"Create utility function to detect special buffers that should not be processed:\n- Terminal buffers (buftype=terminal)\n- Quickfix/location list windows (buftype=quickfix)\n- Help buffers (buftype=help)\n- Scratch buffers (buftype=nofile)\n- Buffers without valid file name\n\nCheck vim.bo.buftype - special buffers have non-empty buftype.","status":"in_progress","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:22.191968+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T20:50:43.09286+09:00","labels":["core"],"dependencies":[{"issue_id":"nvim-clip-line-ref-r18","depends_on_id":"nvim-clip-line-ref-d3r","type":"blocks","created_at":"2026-01-17T19:47:22.19299+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-un4","title":"Implement clipboard integration","description":"Copy formatted reference to system clipboard using the '+' register.\nUse vim.fn.setreg('+', reference_string) or equivalent.","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:45.442255+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:47:45.442255+09:00","labels":["core"],"dependencies":[{"issue_id":"nvim-clip-line-ref-un4","depends_on_id":"nvim-clip-line-ref-16z","type":"blocks","created_at":"2026-01-17T19:47:45.443052+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-xn2","title":"Implement mode detection and line range extraction","description":"Implement mode detection using vim.fn.mode():\n- 'n': Normal mode - use cursor line\n- 'v', 'V', '\u003cC-v\u003e': Visual modes - use '\u003c' and '\u003e' marks for range\n\nFor visual block selections, use first and last line (same as regular visual mode).","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:34.596304+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:47:34.596304+09:00","labels":["core"],"dependencies":[{"issue_id":"nvim-clip-line-ref-xn2","depends_on_id":"nvim-clip-line-ref-d3r","type":"blocks","created_at":"2026-01-17T19:47:34.597274+09:00","created_by":"Ken Fukuyama"}]}
{"id":"nvim-clip-line-ref-ydy","title":"Implement user feedback messages","description":"Implement user feedback:\n- Success: Echo copied text (e.g., 'Copied: src/main.lua L42')\n- Special buffers: Show warning message\n- Unsaved changes: Include indicator when buffer has modifications (check vim.bo.modified)","status":"open","priority":2,"issue_type":"task","owner":"kenfdev@gmail.com","created_at":"2026-01-17T19:47:52.272438+09:00","created_by":"Ken Fukuyama","updated_at":"2026-01-17T19:47:52.272438+09:00","labels":["ui"],"dependencies":[{"issue_id":"nvim-clip-line-ref-ydy","depends_on_id":"nvim-clip-line-ref-un4","type":"blocks","created_at":"2026-01-17T19:47:52.273663+09:00","created_by":"Ken Fukuyama"},{"issue_id":"nvim-clip-line-ref-ydy","depends_on_id":"nvim-clip-line-ref-r18","type":"blocks","created_at":"2026-01-17T19:47:52.274518+09:00","created_by":"Ken Fukuyama"}]}
